<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Physical Science Portal</title>

<style>

/* ==== BACKGROUND ==== */
body {
  margin:0;
  font-family:Arial;
  background:linear-gradient(135deg,#0f172a,#020617);
  overflow:hidden;
  color:white;
}

/* Animated floating science glow */
body::before, body::after{
  content:"";
  position:absolute;
  width:400px;
  height:400px;
  background:#06b6d4;
  opacity:0.15;
  border-radius:50%;
  filter:blur(100px);
  animation:float 12s infinite ease-in-out;
}

body::after{
  background:#6366f1;
  top:60%;
  left:60%;
  animation-delay:5s;
}

@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-50px)}
}

/* ==== CENTER BOX ==== */
.panel{
  position:relative;
  z-index:2;
  margin:auto;
  margin-top:10vh;
  width:320px;
  background:rgba(255,255,255,0.05);
  backdrop-filter:blur(20px);
  border-radius:20px;
  padding:30px;
  box-shadow:0 0 40px rgba(6,182,212,0.3);
}

input, button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border:none;
  border-radius:8px;
}

button{
  background:#06b6d4;
  color:white;
  cursor:pointer;
}

button:hover{
  background:#0891b2;
}

/* ==== HIDE SECTIONS ==== */
#signupBox, #loginBox, #verifyBox, #portal{
  display:none;
}

/* ==== DASHBOARD ==== */
#portal{
  margin-top:5vh;
}

.tabs{
  display:flex;
  justify-content:center;
  gap:20px;
}

.tab-btn{
  padding:15px 40px;
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(10px);
  border-radius:12px;
  cursor:pointer;
  transition:0.3s;
}

.tab-btn:hover{
  background:#06b6d4;
}

.viewer{
  width:90%;
  margin:auto;
  margin-top:20px;
}

.slide{
  display:none;
}

.slide.active{
  display:block;
}

iframe{
  width:100%;
  height:600px;
  border:none;
  border-radius:12px;
  box-shadow:0 0 30px rgba(6,182,212,0.3);
}

</style>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
emailjs.init("_6kozn-J9-QGCchMe");
</script>

</head>
<body>

<!-- HOME -->
<div class="panel" id="home">
<h2>Science Portal</h2>
<button onclick="showSignup()">Sign Up</button>
<button onclick="showLogin()">Log In</button>
</div>

<!-- SIGNUP -->
<div class="panel" id="signupBox">
<h2>Sign Up</h2>
<input type="email" id="suEmail" placeholder="Email">
<input type="password" id="suPass" placeholder="Password">
<button onclick="signUp()">Continue</button>
</div>

<!-- LOGIN -->
<div class="panel" id="loginBox">
<h2>Log In</h2>
<input type="email" id="liEmail" placeholder="Email">
<input type="password" id="liPass" placeholder="Password">
<button onclick="logIn()">Login</button>
<p id="loginError"></p>
</div>

<!-- VERIFY -->
<div class="panel" id="verifyBox">
<h2>Enter Code</h2>
<input type="text" id="code">
<button onclick="sendCode()">Send Code</button>
<button onclick="verifyCode()">Verify</button>
<p id="timer"></p>
<p id="codeError"></p>
</div>

<!-- DASHBOARD -->
<div id="portal">

<div class="tabs">
  <div class="tab-btn" onclick="showSlide('physics')">Physics Paper 1</div>
  <div class="tab-btn" onclick="showSlide('chemistry')">Chemistry Paper 2</div>
</div>

<div class="viewer">
  <div id="physics" class="slide active">
    <iframe src="physics-paper1.pdf"></iframe>
  </div>

  <div id="chemistry" class="slide">
    <iframe src="chemistry-paper2.pdf"></iframe>
  </div>
</div>

</div>

<script>

let users = JSON.parse(localStorage.getItem("users") || "[]");
let currentCode="";
let cooldown=false;

function showSignup(){
home.style.display="none";
signupBox.style.display="block";
}

function showLogin(){
home.style.display="none";
loginBox.style.display="block";
}

function signUp(){
let email=suEmail.value;
let pass=suPass.value;
localStorage.setItem("tempUser", JSON.stringify({email,pass}));
signupBox.style.display="none";
verifyBox.style.display="block";
}

function logIn(){
let email=liEmail.value;
let pass=liPass.value;
let user=users.find(u=>u.email===email && u.pass===pass);

if(user){
loginBox.style.display="none";
portal.style.display="block";
}else{
loginError.innerText="Incorrect login";
}
}

function generateCode(){
let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
let code="";
for(let i=0;i<6;i++){
code+=chars[Math.floor(Math.random()*chars.length)];
}
return code;
}

function sendCode(){
if(cooldown) return;
let tempUser=JSON.parse(localStorage.getItem("tempUser"));
currentCode=generateCode();
localStorage.setItem("tempCode",currentCode);

emailjs.send("service_ah9oypr","template_0qg4mop",{
to_email: tempUser.email,
code: currentCode
});

alert("Code: "+currentCode);
startTimer();
}

function startTimer(){
cooldown=true;
let t=180;
let i=setInterval(()=>{
timer.innerText="Resend in "+t+"s";
t--;
if(t<0){
clearInterval(i);
cooldown=false;
timer.innerText="";
}
},1000);
}

function verifyCode(){
let input=code.value;
let saved=localStorage.getItem("tempCode");
let tempUser=JSON.parse(localStorage.getItem("tempUser"));

if(input===saved){
users.push(tempUser);
localStorage.setItem("users",JSON.stringify(users));
verifyBox.style.display="none";
portal.style.display="block";
}else{
codeError.innerText="Wrong code";
}
}

function showSlide(subject){
document.querySelectorAll(".slide").forEach(s=>s.classList.remove("active"));
document.getElementById(subject).classList.add("active");
}

</script>

</body>
</html>










