<script>
// Track users
let users = JSON.parse(localStorage.getItem("users") || "[]");
let tempUser = null;
let currentCode = '';

// Sign Up with popup code (no email)
function signup(){
    let email = document.getElementById('user').value;
    let pass = document.getElementById('pass').value;

    if(!email || !pass){
        alert("Enter email and password");
        return;
    }

    if(users.some(u=>u.email===email)){
        alert("Email already registered. Please login");
        return;
    }

    // Store temp user
    tempUser = {email, pass};

    // Generate 8-character code
    currentCode = Math.random().toString(36).substring(2,10).toUpperCase();

    // Show code in popup alert
    alert("Your verification code is: " + currentCode);

    // Prompt user to enter the code
    let userCode = prompt("Enter the verification code to complete signup:");

    if(userCode === currentCode){
        users.push(tempUser);
        localStorage.setItem("users", JSON.stringify(users));
        alert("Signup successful! You can now login.");
        tempUser = null;
        currentCode = '';
    } else {
        alert("Incorrect code. Please try signing up again.");
        tempUser = null;
        currentCode = '';
    }
}
</script>
































