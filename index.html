<!DOCTYPE html>
<html>
<head>
  <title>Grade 12 Physical Sciences Portal</title>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

  <style>
    body {
      font-family: Arial;
      text-align: center;
      background: #0d1117;
      color: white;
    }

    .box {
      margin: 20px auto;
      padding: 20px;
      width: 300px;
      background: #161b22;
      border-radius: 10px;
    }

    input {
      margin: 5px;
      padding: 8px;
      width: 90%;
    }

    button {
      padding: 10px;
      margin-top: 10px;
      background: #238636;
      color: white;
      border: none;
      cursor: pointer;
    }

    #books {
      display: none;
      margin-top: 30px;
    }

    iframe {
      width: 90%;
      height: 500px;
      margin-top: 20px;
      border-radius: 10px;
    }
  </style>
</head>

<body>

<h1>ðŸ“˜ Physical Sciences Portal</h1>

<div class="box" id="loginBox">
  <h3>Student Login</h3>
  <input type="email" id="email" placeholder="Enter Email">
  <input type="password" id="password" placeholder="Enter Password">
  <button onclick="sendCode()">Send Code</button>

  <div id="codeBox" style="display:none;">
    <input type="text" id="code" placeholder="Enter Verification Code">
    <button onclick="verifyCode()">Verify</button>
    <p id="timer"></p>
  </div>
</div>

<div id="books">
  <h2>ðŸ“š Study Materials</h2>

  <h3>Physics Paper 1</h3>
  <iframe src="physics-paper1.pdf"></iframe>

  <h3>Chemistry Paper 2</h3>
  <iframe src="chemistry-paper2.pdf"></iframe>
</div>

<script>

emailjs.init("_6kozn-J9-QGCchMe");

let generatedCode = "";
let timerInterval;

function sendCode() {

    let email = document.getElementById("email").value;

    if(email == "") {
        alert("Enter email first");
        return;
    }

    generatedCode = Math.random().toString(36).substring(2,10).toUpperCase();

    alert("Your login code is: " + generatedCode);

    emailjs.send("service_ah9oypr","template_0qg4mop",{
        to_email: email,
        passcode: generatedCode
    });

    document.getElementById("codeBox").style.display = "block";

    startTimer();
}

function startTimer() {
    let timeLeft = 180;

    timerInterval = setInterval(() => {
        document.getElementById("timer").innerText =
        "Resend available in: " + timeLeft + " seconds";

        timeLeft--;

        if(timeLeft < 0){
            clearInterval(timerInterval);
            document.getElementById("timer").innerText =
            "You can resend a new code now.";
        }
    },1000);
}

function verifyCode(){

    let enteredCode = document.getElementById("code").value;

    if(enteredCode === generatedCode){

        localStorage.setItem("studentEmail", document.getElementById("email").value);
        localStorage.setItem("studentPass", document.getElementById("password").value);

        alert("Login Successful âœ…");

        document.getElementById("loginBox").style.display = "none";
        document.getElementById("books").style.display = "block";

    } else {
        alert("Wrong Code âŒ");
    }
}

</script>

</body>
</html>







